/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   lexer_table.c                                      :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: djean <djean@student.42.fr>                +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2017/04/02 17:37:01 by djean             #+#    #+#             */
/*   Updated: 2017/04/02 17:37:01 by djean            ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "automaton.h"
#include "lexer.h"

#define U(N, P) TRANS_AND_PUSH(N, P)
#define O(N) TRANS_AND_POP(N)
#define T(N) TRANS(N)

static const t_transition g_transition_table[][3][15] =
{
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(2),
			T(3),
			U(3, 1),
			U(3, 2),
			T(4),
			T(5),
			T(6),
			T(9),
			T(14),
			T(12),
			T(17),
			T(18),
			T(19),
			T(20), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(2),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(0),
			T(3),
			U(3, 1),
			U(3, 2),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(19),
			T(3), },
		{
			T(0),
			T(3),
			T(3),
			O(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3), },
		{
			T(0),
			T(3),
			T(3),
			T(3),
			O(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(19),
			T(3), },
	},
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(16),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(7),
			T(13),
			T(8),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(10),
			T(11),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(15),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
	{
		{
			T(0),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3),
			T(3), },
	},
	{
		{
			T(0),
			T(20),
			T(20),
			T(20),
			T(20),
			T(20),
			T(20),
			T(20),
			T(20),
			T(20),
			T(0),
			T(20),
			T(20),
			T(20),
			T(20), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
		{
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0),
			T(0), },
	},
};

t_automaton		*lexer_init_automaton(t_automaton *a)
{
	return (automaton_init(
				a,
				CREATE_ARRAY_3D(g_transition_table)));
}
